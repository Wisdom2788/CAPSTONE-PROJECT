@startuml YouthGuard_System_Architecture
!theme plain
title YouthGuard MVP - System Architecture Diagram

!define RECTANGLE class

package "Client Layer" {
    RECTANGLE "Mobile App\n(React Native)" as Mobile
    RECTANGLE "Web App\n(React.js)" as Web
    RECTANGLE "Admin Dashboard\n(React.js)" as Admin
}

package "API Gateway" {
    RECTANGLE "Load Balancer" as LB
    RECTANGLE "Authentication\nMiddleware" as AuthMW
    RECTANGLE "Rate Limiting" as RateLimit
    RECTANGLE "Request Routing" as Router
}

package "Microservices Layer" {
    RECTANGLE "User Service\n(Authentication & Profiles)" as UserService
    RECTANGLE "Course Service\n(Learning Management)" as CourseService
    RECTANGLE "Job Service\n(Job Board & Applications)" as JobService
    RECTANGLE "Message Service\n(Communication)" as MessageService
    RECTANGLE "Progress Service\n(Tracking & Analytics)" as ProgressService
    RECTANGLE "Certificate Service\n(Certifications)" as CertService
    RECTANGLE "Notification Service\n(Push & Email)" as NotificationService
}

package "Data Layer" {
    database "User Database\n(MongoDB)" as UserDB
    database "Course Database\n(MongoDB)" as CourseDB
    database "Job Database\n(MongoDB)" as JobDB
    database "Message Database\n(MongoDB)" as MessageDB
    database "Progress Database\n(MongoDB)" as ProgressDB
    database "Analytics Database\n(MongoDB)" as AnalyticsDB
}

package "External Services" {
    cloud "File Storage\n(AWS S3)" as FileStorage
    cloud "Video Streaming\n(AWS CloudFront)" as VideoStreaming
    cloud "Email Service\n(SendGrid)" as EmailService
    cloud "Push Notifications\n(Firebase)" as PushService
    cloud "Payment Gateway\n(Paystack)" as PaymentGateway
}

package "Infrastructure" {
    RECTANGLE "Redis Cache" as Cache
    RECTANGLE "Message Queue\n(RabbitMQ)" as MessageQueue
    RECTANGLE "Monitoring\n(Prometheus)" as Monitoring
    RECTANGLE "Logging\n(ELK Stack)" as Logging
}

' Client connections
Mobile --> LB
Web --> LB
Admin --> LB

' API Gateway flow
LB --> AuthMW
AuthMW --> RateLimit
RateLimit --> Router

' Service connections
Router --> UserService
Router --> CourseService
Router --> JobService
Router --> MessageService
Router --> ProgressService
Router --> CertService
Router --> NotificationService

' Database connections
UserService --> UserDB
CourseService --> CourseDB
JobService --> JobDB
MessageService --> MessageDB
ProgressService --> ProgressDB
ProgressService --> AnalyticsDB

' External service connections
CourseService --> FileStorage
CourseService --> VideoStreaming
CertService --> FileStorage
NotificationService --> EmailService
NotificationService --> PushService
JobService --> PaymentGateway

' Infrastructure connections
UserService --> Cache
CourseService --> Cache
MessageService --> MessageQueue
NotificationService --> MessageQueue
UserService --> Monitoring
CourseService --> Monitoring
JobService --> Monitoring
MessageService --> Monitoring
ProgressService --> Monitoring
CertService --> Monitoring
NotificationService --> Monitoring

UserService --> Logging
CourseService --> Logging
JobService --> Logging
MessageService --> Logging
ProgressService --> Logging
CertService --> Logging
NotificationService --> Logging

@enduml